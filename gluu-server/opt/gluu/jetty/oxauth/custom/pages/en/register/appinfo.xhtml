<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:h="http://xmlns.jcp.org/jsf/html"
  template="/WEB-INF/incl/layouts/GCWeb.xhtml">

  <f:metadata>
    <f:viewAction action="#{authenticator.prepareAuthenticationForStep}" />
  </f:metadata>

  <ui:param name="otherLanguage" value="eregistrer/appinfo" />

  <ui:define name="name">
    <ui:include src="/WEB-INF/incl/content/default/name-#{language.localeCode}.xhtml" />
  </ui:define>

  <ui:define name="help">
    <ui:include src="/WEB-INF/incl/content/default/help-#{language.localeCode}.xhtml" />
  </ui:define>

  <ui:define name="content">
    <h1>ATIP Online Request Service</h1>
    <h2>Prepare your mobile device</h2>

    <p>You can use an app on your mobile device (smartphone or tablet) as a second factor.</p>
    <ul class="list-unstyled">
      <li>
    <details>
      <summary>What apps do we suggest?</summary>
      <p>
        There are a number of  apps which provide this service and while we
        suggest Google Authenticator, Microsoft Authenticator or Authy, you may
        use any similar app. These apps should be free of charge.
      </p>
    </details>
  </li>
</ul>

<h3 class="h3">Donâ€™t have an app?</h3>
    <p>Install a free authenticator app on your mobile device.</p>
    <ul class="list-unstyled">
      <li>
        <details>
          <summary>How to install an authenticator app</summary>
          <ol>
            <li>Open the app store on your device and search for "Authenticator"</li>
            <li>Choose the authenticator app that you wish to use</li>
            <li>install your chosen app</li>
        </ol>
        </details>
      </li>
    </ul>

    <h3 class="h3">Already have an authenticator app installed? </h3>
    <p>Open the authenticator app on your device and prepare to add your ATIP account:</p>
       <ol>
          <li>On most apps, you tap on a plus (+) sign to add a new account</li>
          <li>Select the option to scan a bar code or QR code</li>
      </ol>

    <p>Once you are ready to scan a QR code, continue to the next page.</p>
    <h:messages style="color:red;" />
    <form jsf:id="loginForm" class="form-horizontal" jsf:action="#{authenticator.authenticate}">
      <input jsf:id="action" type="hidden" styleClass="form-control" autocomplete="off" />
      <nav class="mrgn-bttm-lg" role="navigation">
        <ul class="pager">
          <br />
          <li class="pull-left">
            <button jsf:id="cancelButton" styleClass="btn btn-default" value="Cancel App Registration"
              jsf:action="#{authenticator.authenticate}" onclick="fillInCancel()">Back</button>
          </li>
          <li class="pull-right">
            <button jsf:id="loginButton1" styleClass="btn btn-primary" value="Generate QR code"
              jsf:action="#{authenticator.authenticate}" onclick="fillInContinue()">Generate QR code</button>
          </li>
        </ul>
      </nav>
    </form>
  </ui:define>

  <ui:define name="scripts">
    <script type="text/x-javascript">
      function fillInContinue(){
        document.getElementById("loginForm:action").value = "continue";
      }
      function fillInCancel(){
        document.getElementById("loginForm:action").value = "cancel";
      }
    </script>
  </ui:define>
</ui:composition>