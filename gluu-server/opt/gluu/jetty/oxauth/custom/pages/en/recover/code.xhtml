<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:h="http://xmlns.jcp.org/jsf/html"
  template="/WEB-INF/incl/layouts/GCWeb.xhtml">

  <f:metadata>
    <f:viewAction action="#{authenticator.prepareAuthenticationForStep}" />
  </f:metadata>

  <ui:param name="otherLanguage" value="recuperer/code" />

  <ui:define name="name">
    <ui:include src="/WEB-INF/incl/content/default/name-#{language.localeCode}.xhtml" />
  </ui:define>

  <ui:define name="help">
    <ui:include src="/WEB-INF/incl/content/default/help-#{language.localeCode}.xhtml" />
  </ui:define>

  <ui:define name="content">
    <h1>Recover your account</h1>
    <p>Enter the recovery code you recorded when you created your account.</p>
    <details>
      <summary>How do I get this code?</summary>
      <p>When you created your account you were given a recovery code with
      instructions to print it or write it down, then store it safely. If
      if you have reinstalled your authenticator app, or if your mobile
      device or security key is lost or damaged then the ONLY way to
      recover your account is via this recovery code.</p>
      <p>If you have lost your recovery code:</p>
      <ul>
        <li>Your account cannot be recovered. If you have made requests
        you will be unable to access them or retrieve any reply packages
        electronically through ATIP Online.</li>
        <li>You must contact the institution(s) to which you made the
        request(s) directly and arrange for reply delivery in some other
        way.</li>
        <li>You may create a new account, however if you have pending
        requests you cannot arrange to have them deliveredto the new
        account.</li>
      </ul>
    </details>
    <br />

    <h:messages style="color:red;" />
    <form jsf:id="loginForm" class="form-horizontal">
      <input jsf:id="action" type="hidden" class="form-control" autocomplete="off" />
      <label for="recoverycode" class="required">
        <span class="field-name">Recovery code</span>
        <strong class="required">(required)</strong>
      </label>
      <ul class="list-unstyled">
        <input jsf:id="recoveryCode1" type="text" size="4" maxlength="4" autocomplete="off" class="display: inline-block" />
        -
        <input jsf:id="recoveryCode2" type="text" size="4" maxlength="4" autocomplete="off" class="display: inline-block" />
        -
        <input jsf:id="recoveryCode3" type="text" size="4" maxlength="4" autocomplete="off" class="display: inline-block" />
      </ul>
      <nav class="mrgn-bttm-lg" role="navigation">
        <h2 class="wb-inv">Document navigation</h2>
        <ul class="pager">
          <br />
          <li class="pull-left">
            <button jsf:id="cancelButton" styleClass="btn btn-default" jsf:action="#{authenticator.authenticate}" onclick="fillInCancel()">Cancel Recovery</button>
          </li>
          <li class="pull-right">
            <button jsf:id="loginButton1" styleClass="btn btn-primary" value="Continue" jsf:action="#{authenticator.authenticate}">Continue</button>
          </li>
        </ul>
      </nav>
    </form>
  </ui:define>

  <ui:define name="scripts">
    <script type="text/x-javascript">
      function fillInCancel(){
        document.getElementById("loginForm:action").value = "cancel";
      }
  </script>

  </ui:define>
</ui:composition>